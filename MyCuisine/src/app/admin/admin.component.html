<app-title [title]="'Add dish'" [subTitle]="'Appetizer | MainCourse | Dessert'"></app-title>
<app-subheader [navItemTop]="'Admin'" [navItemMiddle]="'Add dish'" [activePosition]="1"></app-subheader>

<section class="container-add-dish container-fluid">
  <div class="row">

    <div class="post col-md-12 col-sm-12">
      <div class="container-form-add-dish">
        <form #f="ngForm" (ngSubmit)="onSubmit($event)" class="form-add-dish col-md-6 col-sm-12">

          <div class="row">
            <div class="form-group col-md-6 col-sm-12" [ngClass]="{ 'has-danger': us.invalid && (us.dirty || us.touched),
        'has-success': us.valid && (us.dirty || us.touched) }">
              <label>Name</label>
              <input type="text"
                     class="form-control"
                     name="name"
                     [(ngModel)]="dish.name"
                     minlength="4"
                     required
                     #us="ngModel">
            </div>

            <div class="dropdown">
              <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">{{selectedType}}
                <span class="caret"></span></button>
              <ul class="dropdown-menu dropdown-menu-right">
                <li *ngFor="let type of dishTypes">
                  <a (click)="setDishType(type)">
                    {{type | capitalize}}
                  </a>
                </li>
              </ul>
            </div>
          </div>

          <div class="form-group">
            <label>Description</label>
            <textarea rows="10" cols="50" spellcheck="false"
                      class="form-control"
                      name="description"
                      [(ngModel)]="dish.description"
                      minlength="10"
                      required>
            </textarea>
          </div>

          <div class="form-group col-md-6 col-sm-12" [ngClass]="{ 'has-danger': us.invalid && (us.dirty || us.touched),
        'has-success': us.valid && (us.dirty || us.touched) }">
            <label>Price</label>
            <input type="number"
                   class="form-control"
                   name="price"
                   [(ngModel)]="dish.price"
                   min="1"
                   #p="ngModel">
          </div>

          <button type="submit" class="btn-submit" [disabled]="f.invalid">Add Dish</button>
        </form>
      </div>
    </div>

    <simple-notifications [options]="options"></simple-notifications>
    <app-loader [isLoading]="isLoading"></app-loader>

  </div>
</section>
