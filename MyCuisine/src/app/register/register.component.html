<app-title [title]="'Register'" [subTitle]="'Register for an exclusive account'"></app-title>
<app-subheader [navItemTop]="'Register'" [activePosition]="0"></app-subheader>

<section class="container-register container-fluid">

  <div class="row">
    <form #f="ngForm" (ngSubmit)="onSubmit($event)" class="form-register col-md-6 col-sm-12">
      <div class="form-group"
           [ngClass]="{
      'has-danger': em.invalid && (em.dirty || em.touched),
      'has-success': em.valid && (em.dirty || em.touched) }">
        <label>Email</label>
        <input type="email"
               class="form-control"
               name="email"
               [(ngModel)]="email"
               required
               pattern="[^ @]*@[^ @]*"
               #em="ngModel">
      </div>

      <div class="form-group"
           [ngClass]="{
        'has-danger': us.invalid && (us.dirty || us.touched),
        'has-success': us.valid && (us.dirty || us.touched) }">
        <label>Username</label>
        <input type="text"
               class="form-control"
               name="username"
               [(ngModel)]="user.username"
               minlength="4"
               required
               #us="ngModel">
      </div>

      <div class="form-group"
           [ngClass]="{
        'has-danger': p.invalid && (p.dirty || p.touched),
        'has-success': p.valid && (p.dirty || p.touched) }">
        <label>Password</label>
        <input type="password"
               class="form-control"
               name="password"
               [(ngModel)]="user.password"
               minlength="8"
               required
               #p="ngModel">
      </div>

      <pre>{{f.value | maskPassword | json }}</pre>

      <div class="form-control-feedback"
           *ngIf="em.errors && (em.dirty || em.touched)">
      </div>

      <button type="submit" class="btn-submit" [disabled]="f.invalid">Register</button>
    </form>

  </div>
  <simple-notifications [options]="options" (onDestroy)="destroyed($event)"></simple-notifications>
  <app-loader [isLoading]="isLoading"></app-loader>
</section>
